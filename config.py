"""
config.py
ASIC辅助通感一体化拓扑仿真平台 - 全局配置文件
---------------------------------------------------------
该文件存储所有仿真相关的常量参数。
包括：场景设置、移动模型、通信物理层参数、算法参数、对抗环境设置等。
"""

import numpy as np

# ==========================================
# 1. 全局仿真控制 (Simulation Control)
# ==========================================
SIM_TIME_STEPS = 100        # 仿真持续的时间步长 (帧数)
MONTE_CARLO_ROUNDS = 50     # 蒙特卡洛仿真次数 (取平均消除随机性)
RANDOM_SEED = 42            # 随机种子 (保证结果可复现，调试时固定，跑数据时可注释掉)

# ==========================================
# 2. 场景与节点设置 (Environment & Nodes)
# ==========================================
NODE_COUNT = 256            # 节点总数 (N)
AREA_WIDTH = 50000.0        # 地图宽度 (米) -> 50km
AREA_HEIGHT = 50000.0       # 地图高度 (米) -> 50km
# 地图中心点 (用于智能算法的向心策略)
MAP_CENTER = np.array([AREA_WIDTH / 2, AREA_HEIGHT / 2])

# ==========================================
# 3. 移动模型参数 (Mobility Model - RWP)
# ==========================================
# 模拟高动态无人机集群
V_MIN = 10.0                # 最小速度 (m/s)
V_MAX = 60.0                # 最大速度 (m/s) -> 约 200km/h
PAUSE_TIME = 0              # 节点到达目的地后的停留时间 (0代表持续运动)

# 节点状态定义 (具身智能 Ground Truth)
STATUS_NORMAL = 0           # 正常
STATUS_FAULTY = 1           # 故障 (速度慢/乱动)
STATUS_OVERLOAD = 2         # 过载 (忙碌)
# 异常节点比例
RATIO_FAULTY = 0.1          # 10% 节点故障
RATIO_OVERLOAD = 0.1        # 10% 节点过载

# ==========================================
# 4. 物理层与雷达参数 (Phy & Radar)
# ==========================================
# --- 通信半径 (Range) ---
# 场景A: 传统全向天线 (受强干扰压制)
R_OMNI_JAMMED = 2500.0      # 2.5km (Baseline 1)

# 场景B: 毫米波定向/雷达 (高增益抗干扰)
R_DIR_NORMAL = 8000.0       # 8km (Baseline 2 & Ours)

# --- 视场角 (Field of View) ---
FOV_OMNI = 360              # 全向
FOV_DIR = 45               # 定向雷达视场角 (度)

# ==========================================
# 5. ASIC与协议层参数 (ASIC & Protocol)
# ==========================================
# --- 握手效率 (Handshake Efficiency) ---
# 随机定向组：无ASIC，波束扫描慢，握手容易失败
EFFICIENCY_RANDOM = 0.5     # 50% 成功率

# 智能定向组：有ASIC，雷达指引秒级锁定
EFFICIENCY_SMART = 1.0      # 100% 成功率

# --- 智能算法权重 (Algorithm Weights) ---
WEIGHT_DENSITY = 0.8        # 优先看邻居
WEIGHT_CENTER = 0.2         # 没邻居时看中心

# --- 具身智能推理 (Embodied AI) ---
NPU_ACCURACY = 0.95         # NPU 推理准确率 (模拟AI不是100%准的)

# ==========================================
# 6. 对抗与损毁设置 (Adversarial)
# ==========================================
# 节点损毁比例列表 (用于生成对比曲线 X轴)
BREAK_RATIOS = [0.0, 0.1, 0.2, 0.3, 0.4, 0.5]

# ==========================================
# 7. 可视化颜色配置 (Visualization)
# ==========================================
COLOR_NORMAL = 'blue'
COLOR_FAULTY = 'red'
COLOR_LINK = 'green'